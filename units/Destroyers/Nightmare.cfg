#textdomain wesnoth-Era_of_Magic
[unit_type]
    id=EoMa_Nightmare
    name= _ "Nightmare"
    race=undead
    image="units/destroyers-maras/mara1-2.png"
    {MAGENTA_IS_THE_TEAM_COLOR}
    ellipse="misc/ellipse"
    hitpoints=25
    movement_type=undeadspirit
    movement=6
    experience=48
    level=1
    alignment=chaotic
    advances_to=EoMa_Mara
    cost=19
    usage=mixed fighter
    num_traits=2
    ignore_race_traits=yes
    {TRAIT_UNDEAD}
    {TRAIT_INTELLIGENT}
    {TRAIT_QUICK}
	{TRAIT_STRONG}
	{TRAIT_DEXTROUS}
    description= _ "Nightmares are ghostly animated remains, held together by anti-magic. Their fiery touch can drain a creature's life force, as well as making them hallucinate. Many speculate that the these things may very well have originated from whatever is on the other side of the Dark Portals."+{SPECIAL_NOTES}+{SPECIAL_NOTES_DRAIN}+{SPECIAL_NOTES_SPIRIT}+{SPECIAL_NOTES_ARCANE}
    die_sound=wail-long.wav
	{DESTROYER_ADVANCEMENT_ANIM}
#	{DESTROYER_DEATH_ANIM_SMALL}
	{DESTROYER_NIGHTMARE_RECRUIT_ANIM mara1-2 100,100}
	{DEFENSE_ANIM "units/destroyers-maras/mara1-2.png" "units/destroyers-maras/mara1-2.png" silence.ogg}
    [abilities]
#        {ABILITY_SKIRMISHER}
    [/abilities]
    [resistance]
        impact=65
        blade=65
        pierce=65
        arcane=95
        fire=70
        cold=115
    [/resistance]

    [attack]
        name=touch
        description={STR_TOUCH}
        icon=attacks/curse.png
        type=fire
        range=melee
        damage=5
        number=3
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
            {WEAPON_SPECIAL_DRAIN}
        [/specials]
    [/attack]
	[attack]
        name=wail
        description=_"chaotic blast"
		icon=attacks/chaotic-blast.png
        type=fire
        range=ranged
        damage=4
        number=2
        [specials]
            {WEAPON_SPECIAL_EOMA_SKILLED}
        [/specials]
    [/attack]

    [standing_anim]
        [frame]
            begin=0
            end=200
            image="units/destroyers-maras/mara1-1.png"
        [/frame]
        [frame]
            begin=200
            end=400
            image="units/destroyers-maras/mara1-2.png"
        [/frame]
        [frame]
            begin=400
            end=600
            image="units/destroyers-maras/mara1-3.png"
        [/frame]
        [frame]
            begin=600
            end=800
            image="units/destroyers-maras/mara1-2.png"
        [/frame]
    [/standing_anim]

    [idle_anim]
        start_time=0
        [frame]
            alpha=1.0~0.0
            duration=400
            image="units/destroyers-maras/mara1-melee1.png"
            halo="units/destroyers-maras/mara1-melee2.png"
        [/frame]
        [frame]
            alpha=1.0~0.0
            duration=300
            image="units/destroyers-maras/mara1-melee2.png"
            halo="units/destroyers-maras/mara1-melee3.png"
        [/frame]
        [frame]
            alpha=1.0~0.0
            duration=200
            image="units/destroyers-maras/mara1-melee3.png"
            halo="units/destroyers-maras/mara1-melee4.png"
        [/frame]
        [frame]
            alpha=1.0~0.0
            duration=200
            image="units/destroyers-maras/mara1-melee4.png"
            halo="units/destroyers-maras/mara1-2.png"
        [/frame]
    [/idle_anim]

    [attack_anim]
        [filter_attack]
            name=touch
        [/filter_attack]
        start_time=-500
        offset=0.0~1.0:425,0.0:225
        alpha=0.8~0.0:425,0.0~0.8:225
		sound=wail.wav
    [/attack_anim]
	
	[attack_anim]
        [filter_attack]
            name=wail
        [/filter_attack]
        start_time=-500
        missile_start_time=-300
        [missile_frame]
            image="projectiles/firewave-n[1~5].png:50"
            image_diagonal="projectiles/firewave-[1~5].png:50"
			image_mod=~CS(0,-255,-255)~SCALE(54,54)
            offset=0.0~1.0
            sound=chaotic-blast.wav
        [/missile_frame]
        [frame]
            image="units/destroyers-maras/mara1-melee[3~1].png:200"
        [/frame]
    [/attack_anim]
[/unit_type]
