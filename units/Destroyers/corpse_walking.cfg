#textdomain wesnoth-units
[unit_type]
#define EOMA_WALKING_CORPSE_ADVANCEMENT VARIATION IMAGE NAME
    [advancement]
        strict_amla=yes
        max_times=1
        id={VARIATION}
        description={NAME}
        image=units/destroyers-zombies/zombie-{IMAGE}.png~RC(magenta>black)
        major_amla=yes
        [effect]
            apply_to=variation
            name={VARIATION}
        [/effect]
        [effect]
            apply_to=hitpoints
            heal_full=yes
        [/effect]
        [effect]
            apply_to=status
            remove=poisoned
        [/effect]
        [effect]
            apply_to=status
            remove=slowed
        [/effect]
    [/advancement]
#enddef
#define EOMA_UNIT_BODY_WALKING_CORPSE_STATS LEVEL MOVTYPE_NAME MOVES_NUMBER HP_AMOUNT ABILITIES
    id=EoMa_Walking_Corpse
    name= _ "Animated Corpse"
    race=undead
    {TRAIT_FEARLESS_MUSTHAVE}
    hitpoints={HP_AMOUNT}
    movement_type={MOVTYPE_NAME}
    movement={MOVES_NUMBER}
    level={LEVEL}
    experience=50
    alignment=chaotic
    advances_to=null
    cost=8
    usage=fighter
    description= _ "Animated Corpses are the bodies of the dead, re-animated by the Destroyers' anti-magic. Interestingly enough, these undead beings still retain their skills, reflexes, and some memories, albeit being merely grotesque withered shadows of their former selves."
    [resistance]
        arcane=140
    [/resistance]
    [abilities]
        {ABILITIES}
    [/abilities]
    {DESTROYER_ADVANCEMENT_ANIM}
    {DESTROYER_RECRUIT_ANIM 26}
#enddef
#define EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK RANGE ID NAME ICON TYPE DMG NMBR SPECIALS
    [attack]
        name={ID}
        description={NAME}
        icon=attacks/{ICON}
        type={TYPE}
        range={RANGE}
        damage={DMG}
        number={NMBR}
        [specials]
            {WEAPON_SPECIAL_PLAGUE}
            {SPECIALS}
        [/specials]
    [/attack]
#enddef
#define EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS NBASE_NAME
    image="units/destroyers-zombies/{NBASE_NAME}.png"

    die_sound={SOUND_LIST:ZOMBIE_WEAK_HIT}
    {DEFENSE_ANIM "units/destroyers-zombies/{NBASE_NAME}.png" "units/destroyers-zombies/{NBASE_NAME}.png" {SOUND_LIST:ZOMBIE_WEAK_HIT} }
    [attack_anim]
        [filter_attack]
            name=touch
        [/filter_attack]
        [frame]
            begin=-200
            end=200
            image="units/destroyers-zombies/{NBASE_NAME}.png"
            sound=zombie-attack.wav
        [/frame]
    [/attack_anim]
#enddef
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-sister}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 18 ()}
    [movement_costs]
        deep_water=4
    [/movement_costs]
    [defense]
        deep_water=90
    [/defense]
    #-----------------------------------------Dark Blood Alliance
    [variation]
        variation_id=wyvern
        variation_name= _ "Fallen Wyvern"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-wyvern}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 fly 6 25 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_FANGS} fangs.png pierce 7 2 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"tackle" slam-drake.png impact 11 1 ()}
        {ZOMBIE_SPEAR_ANIM}
        {AMLA_DEFAULT}
        [defense]
            mountains=40
        [/defense]
    [/variation]
    [variation]
        variation_id=wyvernrider
        variation_name= _ "Fallen Wyvern Rider"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-wyvernrider}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 fly 7 28 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_FANGS} fangs.png pierce 4 3 (
            {WEAPON_SPECIAL_EOMA_SWALLOW 3}
        )}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png impact 5 2 (
            {WEAPON_SPECIAL_CHARGE}
        )}
        {ZOMBIE_SPEAR_ANIM}
        {AMLA_DEFAULT}
        [defense]
            mountains=40
        [/defense]
    [/variation]
    [variation]
        variation_id=toad
        variation_name= _ "Fallen Toad"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-toad}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_frog) 4 35 (
            {ABILITY_EOMA_REGENERATE 4}
        )}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist _"paw" slam-drake.png impact 5 3 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged tongue _"tongue" tongue-toad.png impact 6 1 (
            {WEAPON_SPECIAL_SLOW}
        )}
        {AMLA_DEFAULT}
        {ZOMBIE_FIST_ANIM}
        {ZOMBIE_TOAD_TONGUE_ANIM toad n n}
        {ZOMBIE_TOAD_TONGUE_ANIM toad ne,nw ne}
        {ZOMBIE_TOAD_TONGUE_ANIM toad s s}
        {ZOMBIE_TOAD_TONGUE_ANIM toad se,sw se}
    [/variation]
    [variation]
        variation_id=salamander
        variation_name= _ "Fallen Salamander"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-salamander}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (smallfoot) 6 20 (
            {ABILITY_EOMA_SWAMPAMBUSH}
        )}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"wrist blade" dagger-orcish.png blade 5 2 (
            {WEAPON_SPECIAL_BACKSTAB}
        )}
        {ZOMBIE_DAGGER_ANIM}
        {AMLA_DEFAULT}
        [movement_costs]
            deep_water=3
            shallow_water=1
            swamp_water=1
            flat=1
            sand=2
            forest=2
            hills=1
        [/movement_costs]
        [defense]
            deep_water=80
            shallow_water=60
            swamp_water=40
            reef=60
            flat=60
            sand=60
            forest=50
            hills=50
            mountains=40
            village=50
            castle=50
            cave=50
            frozen=60
            fungus=60
        [/defense]
        [resistance]
            blade=100
            pierce=100
            impact=100
            fire=100
            cold=100
        [/resistance]
    [/variation]
    [variation]
        variation_id=dbashooter
        variation_name= _ "Fallen Saurian Shooter"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-shooter}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 eoma_lizard 4 20 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} quarterstaff.png impact 3 2 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged blowgun _"blowgun" dagger-thrown-poison-human.png pierce 3 2 (
            {WEAPON_SPECIAL_POISON}
        )}
        {EOMA_WALKING_CORPSE_ADVANCEMENT dbacrossbowman crossbowman _"Fallen Saurian Crossbowman"}
        experience=17
        {ZOMBIE_STAFF_ANIM}
        {ZOMBIE_THROWINGKNIFE_ANIM}
        [defense]
            sand=50
        [/defense]
    [/variation]
    [variation]
        variation_id=dbacrossbowman
        variation_name= _ "Fallen Saurian Crossbowman"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-crossbowman}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 eoma_lizard 4 30 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} crossbow-undead.png impact 5 2 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow {STR_CROSSBOW} crossbow-undead.png pierce 4 3 (
            {WEAPON_SPECIAL_POISON}
            {WEAPON_SPECIAL_MARKSMAN}
        )}
        {AMLA_DEFAULT}
        {ZOMBIE_STAFF_ANIM}
        {ZOMBIE_BOW_ANIM}
        [defense]
            sand=50
        [/defense]
    [/variation]
    [variation]
        variation_id=dbawarrior
        variation_name= _ "Fallen Saurian Pikeman"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-pikeman}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 eoma_lizard 4 22 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 6 2 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spearblade {STR_SPEAR} spear.png blade 6 2 ()}
        {ZOMBIE_SPEAR_ANIM}
        {EOMA_WALKING_CORPSE_ADVANCEMENT dbaguardian guardian _"Fallen Jungle Guardian"}
        experience=17
        [defense]
            sand=50
        [/defense]
    [/variation]
    [variation]
        variation_id=dbaguardian
        variation_name= _ "Fallen Jungle Guardian"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-guardian}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 eoma_lizard 4 34 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 6 3 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spearblade {STR_SPEAR} spear.png blade 6 3 ()}
        {ZOMBIE_SPEAR_ANIM}
        {AMLA_DEFAULT}
        [defense]
            sand=50
        [/defense]
    [/variation]
    [variation]
        variation_id=dbashaman
        variation_name= _ "Fallen Saurian Shaman"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-shamanadept}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 eoma_lizard 4 22 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee claws {STR_CLAWS} claws-drake.png blade 3 1 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged iceball _"iceball" iceball.png cold 4 3 (
            {WEAPON_SPECIAL_EOMA_SKILLED}
        )}
        {ZOMBIE_CLAWS_ANIM}
        {ZOMBIE_ICEBALL_ANIM}
        [resistance]
            cold=90
        [/resistance]
        [defense]
            sand=50
        [/defense]
        {EOMA_WALKING_CORPSE_ADVANCEMENT dbashaman2 shaman _"Fallen Clan Leader"}
        {EOMA_WALKING_CORPSE_ADVANCEMENT dbacorrupted corruptedshaman _"Fallen Corrupted Shaman"}
    [/variation]
    [variation]
        variation_id=dbashaman2
        variation_name= _ "Fallen Clan Leader"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-shaman}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 eoma_lizard 4 30 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee claws {STR_CLAWS} claws-drake.png blade 3 2 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged iceball _"iceball" iceball.png cold 5 4 (
            {WEAPON_SPECIAL_EOMA_SKILLED}
        )}
        {AMLA_DEFAULT}
        {ZOMBIE_CLAWS_ANIM}
        {ZOMBIE_ICEBALL_ANIM}
        [resistance]
            cold=80
        [/resistance]
        [defense]
            sand=50
        [/defense]
    [/variation]
    [variation]
        variation_id=dbacorrupted
        variation_name= _ "Fallen Corrupted Shaman"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-corruptedshaman}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 eoma_lizard 4 30 (
            {ABILITY_EOMA_REGENERATE 4}
        )}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee claws {STR_CLAWS} claws-drake.png blade 3 2 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged fireball _"fireball" fireball.png fire 4 4 (
            {WEAPON_SPECIAL_MAGICAL}
        )}
        {AMLA_DEFAULT}
        {ZOMBIE_CLAWS_ANIM}
        {ZOMBIE_FIREBALL_ANIM}
        [resistance]
            fire=90
            cold=90
        [/resistance]
        [defense]
            sand=50
        [/defense]
    [/variation]
    #-----------------------------------------Barbarians
#define ZOMBIE_CYCLOPS_STATS
    variation_name= _ "Fallen Cyclops"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-cyclops}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 largefoot 4 28 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist.png impact 6 2 (
        {WEAPON_SPECIAL_EOMA_GROWINGFURY 0 3}
    )}
    {ZOMBIE_FIST_ANIM}
#enddef
    [variation]
        variation_id=cyclops
        {ZOMBIE_CYCLOPS_STATS}
        {EOMA_WALKING_CORPSE_ADVANCEMENT mightycyclops mightycyclops _"Fallen Mighty Cyclops"}
        {EOMA_WALKING_CORPSE_ADVANCEMENT firecyclops firecyclops _"Fallen Noble Cyclops"}
        {EOMA_WALKING_CORPSE_ADVANCEMENT cyclopsbreaker breaker _"Fallen Cyclops Breaker"}
        experience=20
    [/variation]
    [variation]
        variation_id=cyclopsbreaker
        variation_name= _ "Fallen Cyclops Breaker"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-breaker}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 largefoot 4 36 ()}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist.png impact 6 3 (
            {WEAPON_SPECIAL_EOMA_GROWINGFURY 0 3}
        )}
        {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist.png impact 5 3 (
            {WEAPON_SPECIAL_EOMA_GROWINGFURY 1 2}
        )}
        {ZOMBIE_FIST_ANIM}
        {AMLA_DEFAULT}
    [/variation]
    [variation]
        variation_id=mightycyclops
        variation_name= _ "Fallen Mighty Cyclops"
        {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-mightycyclops}
        {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 largefoot 4 40 ({ABILITY_EOMA_REGENERATES_WEAK 2}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"tree" club-small.png impact 11 2 ()}
    {ZOMBIE_HAMMER_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        impact=90
    [/resistance]
[/variation]
[variation]
    variation_id=firecyclops
    variation_name= _ "Fallen Noble Cyclops"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-firecyclops}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 largefoot 4 38 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist.png impact 7 2 (
        {WEAPON_SPECIAL_EOMA_GROWINGFURY 0 3}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee eye _"gaze" gaze.png cold 10 1 (
        {WEAPON_SPECIAL_EOMA_PRECISION}
    )}
    {ZOMBIE_FIST_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        blade=80
        pierce=80
        impact=80
        arcane=90
    [/resistance]
#define ZFCYCLOP_LASER VARIATION DIR FACING HALO_X HALO_Y
    [attack_anim]
        [filter_attack]
            name=eye
        [/filter_attack]
        direction={DIR}
        missile_start_time=-100
        [missile_frame]
        [/missile_frame]
        start_time=-300
        [frame]
            halo=halo/laser-destr-{VARIATION}-[1,2,3,4,5,2].png:100
            sound="magic-dark-big.ogg"
            halo_x,halo_y={HALO_X},{HALO_Y}
        [/frame]
    [/attack_anim]
#enddef
    {ZFCYCLOP_LASER 1 n n 3 -40}
    {ZFCYCLOP_LASER 2 s s 0 28}
    {ZFCYCLOP_LASER 3 ne,nw s 28 -28}
    {ZFCYCLOP_LASER 4 se,sw s 25 8}
[/variation]
[variation]
    variation_id=orcbarbarian
    variation_name= _ "Fallen Orc Barbarian"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-orcishwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 orcishfoot 4 23 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee axe {STR_AXE} axe.png blade 4 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged hatchet {STR_HATCHET} hatchet.png blade 3 2 ()}
    {ZOMBIE_AXE_ANIM}
    {ZOMBIE_HATCHET_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=orcberserker
    variation_name= _ "Fallen Orc Berserker"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-orcishberserker}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 orcishfoot 4 21 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_CLAWS} claws.png pierce 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee axe {STR_CLAWS} claws.png blade 3 3 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {ZOMBIE_AXE_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT bloodwarrior bloodwarrior _"Fallen Orc Bloodwarrior"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT brawler brawler _"Fallen Orcish Brawler"}
    experience=18
[/variation]
[variation]
    variation_id=bloodwarrior
    variation_name= _ "Fallen Orc Bloodwarrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-bloodwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 orcishfoot 4 30 (
        {ABILITY_EOMA_FURY}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_CLAWS} claws.png pierce 7 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee axe {STR_CLAWS} claws.png blade 5 3 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {ZOMBIE_AXE_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=brawler
    variation_name= _ "Fallen Orcish Brawler"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-brawler}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 orcishfoot 4 32 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist-um.png impact 6 2 (
        {WEAPON_SPECIAL_EOMA_GROWINGFURY 0 1}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist-um.png impact 5 3 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {ZOMBIE_FIST_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=roc
    variation_name= _ "Fallen Roc Rider"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-rocrider}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 fly 7 22 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee claws {STR_CLAWS} claws-animal.png blade 3 3 ()}
    {ZOMBIE_CLAWS_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT rocmaster rocmaster _"Fallen Roc Master"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT rocsavage rocsavage _"Fallen Savage Roc Rider"}
    experience=18
    [defense]
        mountains=40
    [/defense]
[/variation]
[variation]
    variation_id=rocmaster
    variation_name= _ "Fallen Roc Master"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-rocmaster}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 fly 8 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee claws {STR_CLAWS} claws-animal.png blade 4 4 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow {STR_BOW} bow-orcish.png pierce 5 2 ()}
    {ZOMBIE_CLAWS_ANIM}
    {ZOMBIE_BOW_ANIM}
    [defense]
        mountains=40
    [/defense]
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=rocsavage
    variation_name= _ "Fallen Savage Roc Rider"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-rocsavage}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 fly 8 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee claws {STR_CLAWS} claws-animal.png blade 4 4 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow _"bolas" bolas.png impact 4 2 (
        {WEAPON_SPECIAL_EOMA_ATTACK_ONLY}
        {WEAPON_SPECIAL_SLOW}
    )}
    {ZOMBIE_CLAWS_ANIM}
    {ZOMBIE_BOW_ANIM}
    [defense]
        mountains=40
    [/defense]
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=trollbarbarian
    variation_name= _ "Fallen Troll Sorcerer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-troll}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 largefoot 4 24 (
        {ABILITY_EOMA_REGENERATE 4}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist-troll.png pierce 5 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged fireball _"flame blast" fireball.png fire 3 3 (
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    {ZOMBIE_FIST_ANIM}
    {ZOMBIE_FIREBALL_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=goblinkamikaze
    variation_name= _ "Fallen Goblin Kamikaze"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-kamikaze}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 9 (
        {ABILITY_EOMA_KAMIKAZE}
    )}
    [attack]
        name=kamikaze
        description=_"explosion"
        type=fire
        range=kamikaze
        damage=18
        number=1
        icon=attacks/explosion.png
        [specials]
            {WEAPON_SPECIAL_EOMA_ALWAYSHITS}
        [/specials]
    [/attack]
    [attack]
        name=kamikaze
        description=_"explosion"
        type=impact
        range=kamikaze
        damage=14
        number=1
        icon=attacks/explosion.png
        [specials]
            {WEAPON_SPECIAL_EOMA_ALWAYSHITS}
        [/specials]
    [/attack]
    {KAMIKAZE_ANIM kamikaze units/destroyers-zombies/zombie-kamikaze.png}
    {AMLA_DEFAULT}
    [resistance]
        arcane=100
        blade=110
        pierce=110
        impact=110
        fire=130
    [/resistance]
[/variation]
#define ZOMBIE_GOBLINWARRIOR_STATS
    variation_name= _ "Fallen Goblin Runt"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-spearman}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 12 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear-orcish.png pierce 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged spearthrow _"spear throw" spear-orcish.png pierce 4 1 ()}
    {ZOMBIE_SPEAR_ANIM}
    {ZOMBIE_SPEARTHROW_ANIM}
#enddef
[variation]
    variation_id=goblinwarrior
    {ZOMBIE_GOBLINWARRIOR_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT goblinwarrior2 goblinwarrior _"Fallen Goblin Warrior"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT goblinhunter goblin-hunter _"Fallen Goblin Hunter"}
    experience=10
[/variation]
#define ZOMBIE_GOBLINWARRIOR2_STATS
    variation_name= _ "Fallen Goblin Warrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-goblinwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 21 ({ABILITY_EOMA_HITANDRUN 1}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear-orcish.png pierce 4 3 ()}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged spearthrow _"spear throw" spear-orcish.png pierce 7 1 ()}
{ZOMBIE_SPEAR_ANIM}
{ZOMBIE_SPEARTHROW_ANIM}
#enddef
[variation]
    variation_id=goblinwarrior2
    {ZOMBIE_GOBLINWARRIOR2_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT goblinveteran rouser _"Fallen Goblin Veteran"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT goblinwarbanner goblinwarbanner _"Fallen Goblin Warbanner"}
    experience=18
[/variation]
[variation]
    variation_id=goblinveteran
    variation_name= _ "Fallen Goblin Veteran"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-rouser}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 32 (
        {ABILITY_EOMA_HITANDRUN 2}
        {ABILITY_SKIRMISHER}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear-orcish.png pierce 6 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged spearthrow _"spear throw" spear-orcish.png pierce 10 1 ()}
    {ZOMBIE_SPEAR_ANIM}
    {ZOMBIE_SPEARTHROW_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=goblinhunter
    variation_name= _ "Fallen Goblin Hunter"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-goblin-hunter}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 5 17 (
        {ABILITY_EOMA_MOUNTAINAMBUSH}
        {ABILITY_SKIRMISHER}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-undead.png pierce 3 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bolas _"bolas" bolas.png impact 2 2 (
        {WEAPON_SPECIAL_SLOW}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT goblinassassin assassin _"Fallen Goblin Assassin"}
    experience=18
    [attack_anim]
        [filter_attack]
            name=bolas
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            image="projectiles/bolas-n.png:200"
            image_diagonal="projectiles/bolas-ne.png"
        [/missile_frame]
        start_time=-250
        [frame]
            duration=350
        [/frame]
        {SOUND:HIT_AND_MISS hatchet.wav hatchet-miss.wav 0}
    [/attack_anim]
[/variation]
[variation]
    variation_id=goblinassassin
    variation_name= _ "Fallen Goblin Assassin"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-assassin}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 5 29 (
        {ABILITY_EOMA_MOUNTAINAMBUSH}
        {ABILITY_SKIRMISHER}
        {ABILITY_EOMA_HITANDRUN 1}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-undead.png pierce 4 4 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bolas _"bolas" bolas.png impact 3 3 (
        {WEAPON_SPECIAL_SLOW}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {AMLA_DEFAULT}
    [attack_anim]
        [filter_attack]
            name=bolas
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            image="projectiles/bolas-n.png:200"
            image_diagonal="projectiles/bolas-ne.png"
        [/missile_frame]
        start_time=-250
        [frame]
            duration=350
        [/frame]
        {SOUND:HIT_AND_MISS hatchet.wav hatchet-miss.wav 0}
    [/attack_anim]
[/variation]
[variation]
    variation_id=goblinwarbanner
    variation_name= _ "Fallen Goblin Warbanner"
# wmlindent: start ignoring
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-goblinwarbanner}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 30 ({ABILITY_EOMA_AWE_LEVEL1}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear-orcish.png pierce 5 3 ()}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged spearthrow _"spear throw" spear-orcish.png pierce 4 2 ()}
{ZOMBIE_SPEAR_ANIM}
{ZOMBIE_SPEARTHROW_ANIM}
{AMLA_DEFAULT}
# wmlindent: stop ignoring
[/variation]
[variation]
    variation_id=goblinarcher
    variation_name= _ "Fallen Goblin Archer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-archer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 15 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-orcish.png blade 2 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow _"poisoned arrow" bow.png pierce 4 2 (
        {WEAPON_SPECIAL_POISON}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {ZOMBIE_BOW_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT goblinsniper goblinsniper _"Fallen Goblin Sniper"}
    experience=17
[/variation]
[variation]
    variation_id=goblinsniper
    variation_name= _ "Fallen Goblin Sniper"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-archer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 27 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-orcish.png blade 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow _"poisoned arrow" bow.png pierce 5 3 (
        {WEAPON_SPECIAL_POISON}
        {WEAPON_SPECIAL_MARKSMAN}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {ZOMBIE_BOW_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=goblinshaman
    variation_name= _ "Fallen Goblin Shaman"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-goblinshaman}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 14 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} druidstaff.png impact 3 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/magic.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128)~FL(horiz)~FL(vert),5,5)" arcane 4 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged curse _"missile" curse-goblin.png cold 3 1 (
        {WEAPON_SPECIAL_MAGICAL}
        {WEAPON_SPECIAL_SLOW}
    )}
    {ZOMBIE_STAFF_ANIM}
    {ZOMBIE_GOBLIN_MAGIC_ANIMS}
    {AMLA_DEFAULT}
[/variation]
#-----------------------------------------Summoners
#define ZOMBIE_SUMMONER_STATS
    variation_name= _ "Fallen Novice Summoner"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-summoner}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 19 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword _"scimitar" scimitar.png blade 3 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist.png impact 5 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged scroll _"scroll" scroll.png pierce 7 1 (
        {WEAPON_SPECIAL_EOMA_PRECISION}
    )}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_FIST_ANIM}
    [resistance]
        fire=94
        cold=94
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=scroll
        [/filter_attack]
        missile_start_time=-300
        [if]
            hits=miss
            [missile_frame]
                image="projectiles/flames-n-[3~1].png:[300,75*2]"
                image_diagonal="projectiles/flames-ne-[3~1].png:[300,75*2]"
                offset=0.0~0.8:300,0.8:75,0.8:75
            [/missile_frame]
        [/if]
        [else]
            hits=yes
            [missile_frame]
                image="projectiles/flames-n-3.png:300"
                image_diagonal="projectiles/flames-ne-3.png"
                sound=spear.ogg
            [/missile_frame]
        [/else]
        start_time=-600
        [frame]
            duration=400
        [/frame]
        [frame]
            duration=450
            sound=fire.wav
        [/frame]
    [/attack_anim]
    [defense]
        sand=60
    [/defense]
#enddef
[variation]
    variation_id=summoner
    {ZOMBIE_SUMMONER_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT summoner2 summonerII _"Fallen Summoner"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT dispeller dispeller _"Fallen Dispeller"}
    experience=17
[/variation]
[variation]
    variation_id=summoner2
    variation_name= _ "Fallen Summoner"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-summonerII}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 31 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword _"scimitar" scimitar.png blade 4 4 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_HAMMER} hammer.png impact 7 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged "magic arrow" _"magic arrow" "blank-attack.png~BLIT(attacks/circle-basic.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" fire 6 2 (
        {WEAPON_SPECIAL_EOMA_PRECISION}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged scroll _"scroll" scroll.png pierce 11 1 (
        {WEAPON_SPECIAL_EOMA_PRECISION}
    )}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_HAMMER_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        fire=94
        cold=94
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=magic arrow
        [/filter_attack]
        missile_start_time=-300
        [missile_frame]
            image="projectiles/whitemissile-n.png~GS()~CS(0,-128,-128):200"
            image_diagonal="projectiles/whitemissile-ne.png~CS(0,-128,-128):200"
            offset=0.0~0.8
        [/missile_frame]
        [missile_frame]
            duration=400
            halo="projectiles/whitemissile-impact-[1~8].png~GS()~CS(0,-128,-128):50"
            offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
        [/missile_frame]
        start_time=-900
        [frame]
            duration=950
        [/frame]
        {SOUND:HIT_AND_MISS magic-arrow.wav lightning-miss.ogg -300}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=scroll
        [/filter_attack]
        missile_start_time=-300
        [if]
            hits=miss
            [missile_frame]
                image="projectiles/flames-n-[3~1].png:[300,75*2]"
                image_diagonal="projectiles/flames-ne-[3~1].png:[300,75*2]"
                offset=0.0~0.8:300,0.8:75,0.8:75
            [/missile_frame]
        [/if]
        [else]
            hits=yes
            [missile_frame]
                image="projectiles/flames-n-3.png:300"
                image_diagonal="projectiles/flames-ne-3.png"
                sound=spear.ogg
            [/missile_frame]
        [/else]
        start_time=-600
        [frame]
            duration=400
        [/frame]
        [frame]
            duration=450
            sound=fire.wav
        [/frame]
    [/attack_anim]
    [defense]
        sand=60
    [/defense]
[/variation]
[variation]
    variation_id=dispeller
    variation_name= _ "Fallen Dispeller"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-dispeller}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee banishment _"banishment" banishment.png arcane 4 1 (
        {WEAPON_SPECIAL_SLOW}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} quarterstaff.png impact 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged frozengate _"frozen gate" faerie-fire.png cold 8 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {AMLA_DEFAULT}
    {ZOMBIE_STAFF_ANIM}
    [attack_anim]
        [filter_attack]
            name=banishment
        [/filter_attack]
        start_time=-400
        missile_start_time=-200
        [if]
            hits=yes
            [missile_frame]
                halo=halo/jinn-circle[0,1~6,7,6~1].png~GS()~CS(50,50,50)~SCALE(100,100):100
                offset=1.0
            [/missile_frame]
            [frame]
                offset=0~0.3:200,0.3:600,0.3~0:200
                sound=magic-faeriefire.ogg
            [/frame]
        [/if]
        [else]
            hits=no
            [missile_frame]
                halo=halo/jinn-circle[0,1,2,1,0].png~GS()~CS(40,40,40)~SCALE(100,100):100
                offset=1.0
                alpha=0.75:300,0.75~0.1:200
            [/missile_frame]
            [frame]
                begin=-150
                end=150
                offset=0~0.3:200,0.3:300,0.3~0:200
                sound=um-miss.ogg
            [/frame]
        [/else]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=frozengate
        [/filter_attack]
        circle_start_time=-300
        circle2_start_time=-400
        [circle2_frame]
            duration=800
            image=halo/ucircle-frames/ucircle-d-[01~23].png
            image_mod="~SCALE(80,60)"
            auto_vflip=false
            layer=0
            y=10
            alpha=0~1:200,1:400,1~0:200
            offset=0.0
            sound=um.ogg
        [/circle2_frame]
        [if]
            direction=n,ne,nw
            [circle_frame]
                duration=800
                image=halo/ucircle-frames/ucircle-d-[01~23].png
                image_mod="~SCALE(80,60)"
                auto_vflip=false
                layer=-1
                y=10
                alpha=0~1:200,1:400,1~0:200
                offset=1.0
                sound=um.ogg
            [/circle_frame]
        [/if]
        [else]
            [circle_frame]
                duration=800
                image=halo/ucircle-frames/ucircle-d-[01~23].png
                image_mod="~SCALE(80,60)"
                auto_vflip=false
                layer=1
                y=10
                alpha=0~1:200,1:400,1~0:200
                offset=1.0
                sound=um.ogg
            [/circle_frame]
        [/else]
        missile_start_time=-245
        [missile_frame]
            halo="halo/holy/light-beam-[1~7,6~1].png~SCALE(100,446):[30*6,130,70*6]"
            offset=1.0
            auto_vflip=false
        [/missile_frame]
        start_time=-300
        [frame]
            duration=350
        [/frame]
        attack_sound_start_time=-150
        [attack_sound_frame]
            sound=magic-dark-miss.ogg
        [/attack_sound_frame]
    [/attack_anim]
    [defense]
        sand=60
    [/defense]
    [resistance]
        fire=80
        cold=80
        arcane=130
    [/resistance]
[/variation]
[variation]
    variation_id=carpet
    variation_name= _ "Fallen Carpet Rider"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-carpetrider}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 fly 7 16 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged powderbomb _"magical powder" bomb2.png cold 6 1 (
        {WEAPON_SPECIAL_SLOW}
        {WEAPON_SPECIAL_MARKSMAN}
    )}
    {AMLA_DEFAULT}
    [attack_anim]
        [filter_attack]
            name=powderbomb
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            image="projectiles/bomb2.png:200"
            offset=0.0~1.0
        [/missile_frame]
        [missile_frame]
            halo=projectiles/bomb2-[1~5].png:75
            offset=1.0
            sound=flame-big.ogg
        [/missile_frame]
        start_time=-200
    [/attack_anim]
    [defense]
        cave=70
    [/defense]
[/variation]
[variation]
    variation_id=camel
    variation_name= _ "Fallen Camel Rider"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-camelrider}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 mounted 6 20 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword _"scimitar" scimitar.png blade 5 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged hatchet _"scimitar throw" scimitar.png blade 7 1 ()}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_HATCHET_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT heavycamel elitecamelrider _"Fallen Elite Camel Rider"}
    experience=18
    [defense]
        sand=60
    [/defense]
[/variation]
[variation]
    variation_id=heavycamel
    variation_name= _ "Fallen Elite Camel Rider"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-elitecamelrider}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 mounted 6 32 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword _"scimitar" scimitar.png blade 5 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged hatchet _"scimitar throw" scimitar.png blade 6 2 ()}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_HATCHET_ANIM}
    {AMLA_DEFAULT}
    [defense]
        sand=60
    [/defense]
[/variation]
#-----------------------------------------Runemasters
[variation]
    variation_id=dadept
    variation_name= _ "Fallen Rune Adept"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-dadept}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 dwarvishfoot 4 21 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer {STR_HAMMER} runic-hammer.png impact 6 1 (
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged runes _"fire runes" rune.png fire 5 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged (ice runes) _"ice runes" rune-ice.png cold 7 1 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {AMLA_DEFAULT}
    {ZOMBIE_HAMMER_ANIM}
    {RUNES_ANIM a (36)}
    {RUNES_ANIM b (36)}
    {RUNES_ANIM c (36)}
    {RUNES_ANIM d (36)}
    [defense]
        mountains=40
    [/defense]
[/variation]
[variation]
    variation_id=dwarrior
    variation_name= _ "Fallen Dwarf Warrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-dwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 dwarvishfoot 4 22 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-human.png blade 6 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged pistol _"gun" thunderstick.png pierce 7 1 ()}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_PISTOL_ANIM}
    {AMLA_DEFAULT}
    [defense]
        mountains=40
    [/defense]
[/variation]
[variation]
    variation_id=dwgunner
    variation_name= _ "Fallen Dwarvish Gunner"
# wmlindent: start ignoring
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-gunner}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 dwarvishfoot 4 19 ({ABILITY_SKIRMISHER}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff _"gun bash" quarterstaff.png impact 3 1 ()}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged thunderstick _"gun" thunderstick.png pierce 4 2 ({WEAPON_SPECIAL_MARKSMAN}
)}
{ZOMBIE_STAFF_ANIM}
{ZOMBIE_GUN_ANIM}
{AMLA_DEFAULT}
# wmlindent: stop ignoring
    [defense]
        mountains=30
        frozen=50
        flat=60
        forest=60
    [/defense]
    [movement_costs]
        frozen=1
    [/movement_costs]
    [resistance]
        arcane=100
        cold=80
    [/resistance]
[/variation]
[variation]
    variation_id=parachutist
    variation_name= _ "Fallen Parachutist"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-parachutist}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 dwarvishfoot 4 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-human.png blade 2 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged pistol _"gun" thunderstick.png pierce 5 1 ()}
    {ZOMBIE_DAGGER_ANIM}
    {ZOMBIE_PISTOL_ANIM}
    {AMLA_DEFAULT}
    experience=10
    [defense]
        mountains=40
    [/defense]
[/variation]
[variation]
    variation_id=mechanic
    variation_name= _ "Fallen Mechanic"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-mechanic}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 dwarvishfoot 4 21 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword _"saw" saw.png blade 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"wrench" wrench.png impact 3 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear _"screwdriver" screwdriver.png pierce 2 3 ()}
    {ZOMBIE_HAMMER_ANIM}
    {ZOMBIE_SPEAR_ANIM}
    {ZOMBIE_SWORD_ANIM}
    {AMLA_DEFAULT}
    [defense]
        mountains=40
    [/defense]
[/variation]
#-----------------------------------------Sky Kingdom
[variation]
    variation_id=elementalist
    variation_name= _ "Fallen Elementalist"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-elementalist}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} staff-magic.png impact 4 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" magic-missile.png arcane 5 2 (
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    {ZOMBIE_STAFF_ANIM}
    {ZOMBIE_MISSILE_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=battlemage
    variation_name= _ "Fallen Battle Mage"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-battlemage}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 19 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-undead.png blade 3 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/magic-missile.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" fire 5 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {ZOMBIE_MISSILE_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT sorcerer sorcerer _"Fallen Sorcerer"}
    experience=19
    [resistance]
        blade=90
        pierce=90
        impact=90
    [/resistance]
[/variation]
[variation]
    variation_id=sorcerer
    variation_name= _ "Fallen Sorcerer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-sorcerer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 31 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} quarterstaff.png impact 5 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/missile-sorcerer.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" fire 7 3 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {ZOMBIE_STAFF_ANIM}
    [attack_anim]
        [filter_attack]
            name=missile
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            halo=projectiles/zamage-halo[1~3,2,1,2].png~GS()~CS(0,-128,-128):40
            halo_x,halo_y=6,-2
        [/missile_frame]
        [if]
            hits=yes
            missile2_start_time=0
            [missile2_frame]
                duration=400
                halo="projectiles/whitemissile-impact-[1~8].png~GS()~CS(-64,-255,-255):50"
                offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
            [/missile2_frame]
        [/if]
        start_time=-500
        [frame]
            duration=100
        [/frame]
        [frame]
            duration=400
            halo=projectiles/zamage-preparation-halo[1~7,1~7,1~7,1~7].png~GS()~CS(-64,-255,-255):14
            halo_x,halo_y=6,-2
        [/frame]
        [frame]
            duration=50
        [/frame]
        {SOUND:HIT_AND_MISS magic-missile-[1~3].ogg magic-missile-[1~3]-miss.ogg -100}
    [/attack_anim]
    {AMLA_DEFAULT}
    [resistance]
        cold=85
        fire=85
    [/resistance]
[/variation]
#define ZOMBIE_SUBVERSIVEMAGE_STATS
    variation_name= _ "Fallen Subversive Mage"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-subversivemage}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_subversivemage) 4 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} staff-magic.png impact 6 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/magic-missile.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" cold 5 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged entrap _"entrapment spell" "blank-attack.png~BLIT(attacks/entrapment-spell.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" cold 2 2 (
        {WEAPON_SPECIAL_SLOW}
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    [resistance]
        cold=90
        blade=110
        pierce=110
        impact=110
    [/resistance]
    {ZOMBIE_STAFF_ANIM}
    {ZOMBIE_MISSILE_ANIM}
    [attack_anim]
        [filter_attack]
            name=entrap
        [/filter_attack]
        missile_start_time=-375
        [missile_frame]
            image="halo/mystic-magic[1~5,5~1].png~GS()~CS(-64,-255,-255):75"
            image_diagonal="halo/mystic-magic[1~5,5~1].png~GS()~CS(-64,-255,-255):75"
            offset=1.0
        [/missile_frame]
        start_time=-375
        [frame]
            duration=375
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[25*7,25*7]"
            halo_x,halo_y=6,-23
        [/frame]
        [frame]
            duration=225
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[25*7,25*7]"
            halo_x,halo_y=6,-23
            sound=magic-faeriefire.ogg
        [/frame]
    [/attack_anim]
#enddef
[variation]
    variation_id=subversivemage
    {ZOMBIE_SUBVERSIVEMAGE_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT blackmage blackmage _"Fallen Black Mage"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT sculptor sculptor _"Fallen Sculptor"}
    experience=18
[/variation]
[variation]
    variation_id=blackmage
    variation_name= _ "Fallen Black Mage"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-blackmage}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_subversivemage) 4 29 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} staff-magic.png impact 9 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/missile-sorcerer.png~CROP(5,5,49,49)~GS()~CS(-64,-255,-255),5,5)" cold 6 3 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged entrap _"entrapment spell" "blank-attack.png~BLIT(attacks/entrapment-spell.png~CROP(5,5,49,49)~GS()~CS(-64,-255,-255),5,5)" cold 3 3 (
        {WEAPON_SPECIAL_SLOW}
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    [resistance]
        cold=90
        blade=110
        pierce=110
        impact=110
    [/resistance]
    {ZOMBIE_STAFF_ANIM}
    {ZOMBIE_MISSILE_ANIM}
    {AMLA_DEFAULT}
    [attack_anim]
        [filter_attack]
            name=entrap
        [/filter_attack]
        missile_start_time=-375
        [missile_frame]
            image="halo/mystic-magic[1~5,5~1].png~GS()~CS(-64,-255,-255):75"
            image_diagonal="halo/mystic-magic[1~5,5~1].png~GS()~CS(-64,-255,-255):75"
            offset=1.0
        [/missile_frame]
        start_time=-375
        [frame]
            duration=375
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[25*7,25*7]"
            halo_x,halo_y=6,-23
        [/frame]
        [frame]
            duration=225
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[25*7,25*7]"
            halo_x,halo_y=6,-23
            sound=magic-faeriefire.ogg
        [/frame]
    [/attack_anim]
[/variation]
[variation]
    variation_id=sculptor
    variation_name= _ "Fallen Sculptor"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-sculptor}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_subversivemage) 4 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} staff-magic.png impact 6 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/magic-missile.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" cold 5 3 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged entrap _"entrapment spell" "blank-attack.png~BLIT(attacks/entrapment-spell.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" cold 3 2 (
        {WEAPON_SPECIAL_SLOW}
        {WEAPON_SPECIAL_EOMA_PRECISION}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged gaze _"petrifying spell" sculpt.png cold 1 1 (
        {WEAPON_SPECIAL_EOMA_SCULPT}
        {WEAPON_SPECIAL_MAGICAL}
    )}
    [resistance]
        cold=90
    [/resistance]
    {ZOMBIE_STAFF_ANIM}
    {AMLA_DEFAULT}
    [attack_anim]
        [filter_attack]
            name=missile
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            halo=projectiles/zmage-halo[1~5].png~GS()~CS(-64,-255,-255):48
            halo_x,halo_y=2,-2
            offset=0.0~1.0:200
        [/missile_frame]
        [if]
            hits=yes
            missile2_start_time=0
            [missile2_frame]
                duration=400
                halo="projectiles/whitemissile-impact-[1~8].png~GS()~CS(-64,-255,-255):50"
                offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
            [/missile2_frame]
        [/if]
        start_time=-400
        [frame]
            duration=50
        [/frame]
        [frame]
            duration=350
            halo="projectiles/zmage-preparation-halo[1~7,1~7].png:[21*7,28*7]"
            halo_mod=~GS()~CS(-64,-255,-255)
            halo_x,halo_y=0,-12
        [/frame]
        [frame]
            duration=50
        [/frame]
        {SOUND:HIT_AND_MISS magic-missile-[1~3].ogg magic-missile-[1~3]-miss.ogg -200}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=entrap
        [/filter_attack]
        missile_start_time=-375
        [missile_frame]
            image="halo/mystic-magic[1~5,5~1].png~GS()~CS(-64,-255,-255):75"
            image_diagonal="halo/mystic-magic[1~5,5~1].png~GS()~CS(-64,-255,-255):75"
            offset=1.0
        [/missile_frame]
        start_time=-375
        [frame]
            duration=375
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png~GS()~CS(-64,-255,-255):[25*7,25*7]"
            halo_x,halo_y=6,-23
        [/frame]
        [frame]
            duration=225
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png~GS()~CS(-64,-255,-255):[25*7,25*7]"
            halo_x,halo_y=6,-23
            sound=magic-faeriefire.ogg
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=gaze
        [/filter_attack]
        missile_start_time=-675
        missile2_start_time=-100
        [missile_frame]
            image="halo/mystic-magic[1~5].png~GS()~CS(-64,-255,-255)~SCALE(100,100):75"
            image_diagonal="halo/mystic-magic[1~5].png~GS()~CS(-64,-255,-255)~SCALE(100,100):75"
            offset=1.0
        [/missile_frame]
        [if]
            hits=yes
            [missile_frame]
                image="halo/mystic-magic5.png~GS()~CS(-64,-255,-255)~SCALE(100,100):1600"
                image_diagonal="halo/mystic-magic5.png~GS()~CS(-64,-255,-255)~SCALE(100,100):1600"
                offset=1.0
                blend_ratio=0~1:500,1~0:500
                alpha=1:1000,1~0:1000
                blend_color=255,255,255
            [/missile_frame]
            [missile2_frame]
                duration=800
                blend_ratio=0~1:500,1~0:300
                alpha=0.2~1.0:500,1.0~0.2:500
                blend_color=255,255,255
                image=halo/vortex2portal.png~SCALE(112,112)~GS()~CS(-64,-255,-255)
                offset=1.0
                sound=um.ogg
            [/missile2_frame]
        [/if]
        [else]
            [missile_frame]
                image="halo/mystic-magic[5~1].png~GS()~CS(-64,-255,-255)~SCALE(100,100):75"
                image_diagonal="halo/mystic-magic[5~1].png~GS()~CS(-64,-255,-255)~SCALE(100,100):75"
                offset=1.0
            [/missile_frame]
        [/else]
        start_time=-375
        [frame]
            duration=800
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[50*7,50*7]"
            halo_mod=~GS()~CS(-64,-255,-255)
            halo_x,halo_y=0,-12
            sound=magic-faeriefire.ogg
        [/frame]
    [/attack_anim]
[/variation]
[variation]
    variation_id=hiddenface
    variation_name= _ "Fallen Hidden Face"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-hiddenface}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 elusivefoot 5 19 (
        {ABILITY_SKIRMISHER}
    )}
    {AMLA_DEFAULT}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger {STR_DAGGER} dagger-human.png blade 3 4 ()}
    {ZOMBIE_DAGGER_ANIM}
    [resistance]
        fire=80
        cold=80
        arcane=130
    [/resistance]
[/variation]
[variation]
    variation_id=mu
    variation_name= _ "Fallen Mu"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-mu}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 14 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} staff-magic.png pierce 5 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged mu _"magic barrage" "blank-attack.png~BLIT(attacks/magic-barrage.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" secret 1 8 (
        {WEAPON_SPECIAL_SWARM}
        {WEAPON_SPECIAL_MAGICAL}
        {WEAPON_SPECIAL_EOMA_ANTISHIELD}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/magic-missile.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" secret 5 1 (
        {WEAPON_SPECIAL_MAGICAL}
        {WEAPON_SPECIAL_EOMA_ANTISHIELD}
    )}
    {ZOMBIE_SPEAR_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT mysticmu mysticmu _"Fallen Um"}
    experience=62
    [resistance]
        arcane=120
        cold=90
        fire=90
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=mu
        [/filter_attack]
        missile_start_time=-80
        [missile_frame]
            duration=80
            halo=projectiles/mu-preparation-halo[4,1~3].png~GS()~CS(-128,-255,-255)
            halo_x,halo_y=1,-17
            offset=0~1.0:70,1.0:10
        [/missile_frame]
        start_time=-100
        [frame]
            duration=50
        [/frame]
        [frame]
            duration=100
            halo=[projectiles/mu-preparation-halo4,projectiles/mu-preparation-halo1,projectiles/mu-preparation-halo2,projectiles/mu-preparation-halo3,projectiles/mu-preparation-halo4].png:20
            halo_mod=~GS()~CS(-128,-255,-255)
            halo_x,halo_y=1,-19
        [/frame]
        {SOUND:HIT_AND_MISS magic-missile-[1~3].ogg magic-missile-[1~3]-miss.ogg 0}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=missile
        [/filter_attack]
        missile_start_time=-500
        [missile_frame]
            halo=projectiles/zmage-halo[1~5].png:[448,48*4]
            halo_x,halo_y=1,-19
            halo_mod=~CS(-32,-32,0)~GS()~CS(-128,-255,-255)
            offset=0.0:400,0.0~1.0:200
        [/missile_frame]
        [if]
            hits=yes
            missile2_start_time=0
            [missile2_frame]
                duration=400
                halo="projectiles/whitemissile-impact-[1~8].png:50"
                halo_mod=~GS()~CS(100,100,0)~CS(-128,-255,-255)
                offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
            [/missile2_frame]
        [/if]
        start_time=-700
        [frame]
            duration=50
        [/frame]
        [frame]
            duration=650
            halo="projectiles/zmage-preparation-halo[1~5,4,5,4,5,4~1].png:50"
            halo_mod=~CS(-32,-32,0)~CS(-128,-255,-255)
            halo_x,halo_y=1,-19
        [/frame]
        {SOUND:HIT_AND_MISS magic-missile-[1~3].ogg magic-missile-[1~3]-miss.ogg -200}
    [/attack_anim]
[/variation]
[variation]
    variation_id=mysticmu
    variation_name= _ "Fallen Um"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-mysticmu}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 2 smallfoot 4 56 (
        {ABILITY_EOMA_REGENERATE 4}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} fist-um.png impact 9 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged umdestr _"magic barrage" "blank-attack.png~BLIT(attacks/magic-barrage.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" secret 2 12 (
        {WEAPON_SPECIAL_SWARM}
        {WEAPON_SPECIAL_MAGICAL}
        {WEAPON_SPECIAL_EOMA_ANTISHIELD}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged umdestrblast _"um blast" "blank-attack.png~BLIT(attacks/implosion.png~CROP(5,5,49,49)~GS()~CS(0,-128,-128),5,5)" secret 12 1 (
        {WEAPON_SPECIAL_EOMA_PRECISION}
        {WEAPON_SPECIAL_EOMA_ANTISHIELD}
    )}
    die_sound=lich-die.ogg
    experience=100
    {AMLA_DEFAULT}
    [resistance]
        arcane=110
        fire=80
        cold=80
        impact=90
    [/resistance]
    {ZOMBIE_FIST_ANIM}
    {ZOMBIE_UM_RANGED_ANIM n n 0 -28}
    {ZOMBIE_UM_RANGED_ANIM s s 0 0}
    {ZOMBIE_UM_RANGED_ANIM ne,nw ne 28 -22}
    {ZOMBIE_UM_RANGED_ANIM se,sw se 16 -16}
[/variation]
#-----------------------------------------Kharos
[variation]
    variation_id=cleric
    variation_name= _ "Fallen Cleric"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-cleric}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee staff {STR_STAFF} staff-magic.png impact 4 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged darkbeam _"darkness beam" dark-missile.png arcane 5 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {ZOMBIE_STAFF_ANIM}
    {ZOMBIE_DARKBEAM_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        arcane=110
    [/resistance]
[/variation]
#define ZSISTER_LASER VARIATION DIR FACING HALO_X HALO_Y
    [attack_anim]
        [filter_attack]
            name=darknessbeam
        [/filter_attack]
        direction={DIR}
        missile_start_time=-100
        [missile_frame]
        [/missile_frame]
        start_time=-300
        [frame]
            duration=150
        [/frame]
        [frame]
            duration=350
            halo=halo/laser-{VARIATION}-[1,2,3,4,5,2].png:100
            halo_mod=~CS(-255,-255,-255)
            sound="magic-dark-big.ogg"
            halo_x,halo_y={HALO_X},{HALO_Y}
        [/frame]
        [frame]
            duration=100
        [/frame]
    [/attack_anim]
#enddef
#define ZOMBIE_SISTER_STATS
    variation_name= _ "Fallen Sister"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-sister}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 17 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee touch _"touch" touch-zombie.png arcane 3 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged darknessbeam _"darkness beam" dark-missile.png cold 7 1 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    [attack_anim]
        [filter_attack]
            name=touch
        [/filter_attack]
        start_time=-250
        [frame]
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[25*14]"
            halo_mod=~GS()~CS(-255,-255,-255)~SCALE(70,70)
            halo_x,halo_y=8,0
            sound=magic-dark-big.ogg
        [/frame]
        {SOUND:HIT_AND_MISS um.ogg um-miss.ogg -100}
    [/attack_anim]
    [resistance]
        arcane=110
        cold=90
    [/resistance]
    {ZSISTER_LASER 1 n n 0 -12}
    {ZSISTER_LASER 2 s s 0 53}
    {ZSISTER_LASER 3 ne,nw s 28 -1}
    {ZSISTER_LASER 4 se,sw s 27 36}
#enddef
[variation]
    variation_id=sister
    {ZOMBIE_SISTER_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT angel childoflight _"Fallen Child of Darkness"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT inspired inspired _"Fallen Inspired"}
    experience=16
[/variation]

[variation]
    variation_id=inspired
    variation_name= _ "Fallen Inspired"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-inspired}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 26 (
        {ABILITY_EOMA_AWE_LEVEL1}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-elven.png blade 7 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow {STR_BOW} bow.png pierce 5 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged darkbeam _"darkness beam" dark-missile.png arcane 11 1 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {ZOMBIE_DARKBEAM_ANIM}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_BOW_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        arcane=110
        cold=90
    [/resistance]
[/variation]

[variation]
    variation_id=angel
    variation_name= _ "Fallen Angel"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-childoflight}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 fly 6 28 (
        {ABILITY_EOMA_AWE_LEVEL1}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee touch _"touch" touch-zombie.png arcane 5 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged darkblast _"dark blast" dark-missile.png cold 11 1 (
        {WEAPON_SPECIAL_MAGICAL}
        {WEAPON_SPECIAL_EOMA_ALLAROUND 70}
    )}
    {AMLA_DEFAULT}
    die_sound=lich-die.ogg
    [resistance]
        blade=100
        pierce=100
        impact=100
        fire=100
        cold=80
        arcane=90
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=touch
        [/filter_attack]
        start_time=-250
        [frame]
            halo="projectiles/zmage-preparation-halo[1~7,7~1].png:[25*14]"
            halo_mod=~GS()~CS(-255,-255,-255)~SCALE(70,70)
            halo_x,halo_y=8,0
            sound=magic-dark-big.ogg
        [/frame]
        {SOUND:HIT_AND_MISS um.ogg um-miss.ogg -100}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=darkblast
        [/filter_attack]
        missile_start_time=-180
        [if]
            direction=nw,sw
            [missile_frame]
                duration=1000
                image="halo/particle-anims/particle-b-[74~01].png"
                image_mod=~CS(-255,-255,-255)
                sound=magic-faeriefire.ogg
                layer=99
                x=-6
                y=-3
                offset=0
            [/missile_frame]
        [/if]
        [else]
            [missile_frame]
                duration=1000
                image="halo/particle-anims/particle-b-[74~01].png"
                image_mod=~CS(-255,-255,-255)
                sound=magic-faeriefire.ogg
                layer=99
                x=-6
                y=3
                offset=0
            [/missile_frame]
        [/else]
        start_time=-300
    [/attack_anim]
[/variation]
#define ZOMBIE_SHIELDER_STATS
    variation_name= _ "Fallen Shielder"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-shielder}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 20 (
        {ABILITY_STEADFAST}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 3 3 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"shield" rectangular-shield.png impact 6 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged spearthrow _"javelin" javelin-human.png pierce 3 1 ()}
    {ZOMBIE_SPEAR_ANIM}
    {ZOMBIE_HAMMER_ANIM}
    {ZOMBIE_SPEARTHROW_ANIM}
    [resistance]
        blade=85
        pierce=85
        impact=85
        fire=105
        cold=105
    [/resistance]
#enddef
[variation]
    variation_id=shielder
    {ZOMBIE_SHIELDER_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT sunfollower sunfollower _"Fallen Darkness Follower"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT avenger avenger _"Fallen Avenger"}
    experience=20
[/variation]
[variation]
    variation_id=avenger
    variation_name= _ "Fallen Avenger"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-avenger}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 33 (
        {ABILITY_STEADFAST}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 5 3 (
        {WEAPON_SPECIAL_EOMA_REVENGE2}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"shield" rectangular-shield.png impact 10 1 (
        {WEAPON_SPECIAL_EOMA_REVENGE2}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged spearthrow _"javelin" javelin-human.png pierce 6 1 ()}
    {AMLA_DEFAULT}
    {ZOMBIE_SPEAR_ANIM}
    {ZOMBIE_HAMMER_ANIM}
    {ZOMBIE_SPEARTHROW_ANIM}
    [resistance]
        blade=85
        pierce=85
        impact=85
        fire=100
        cold=100
    [/resistance]
[/variation]
#define ZOMBIE_WHITE_WARRIOR_STATS
    variation_name= _ "Fallen White Warrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-whitewarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 elusivefoot 4 20 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-human-short.png blade 6 2 ()}
    {ZOMBIE_SWORD_ANIM}
#enddef
[variation]
    variation_id=wwarrior
    {ZOMBIE_WHITE_WARRIOR_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT silverwarrior silverwarrior _"Fallen Silver Warrior"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT brownwarrior brownwarrior _"Fallen Brown Warrior"}
    experience=16
[/variation]
[variation]
    variation_id=silverwarrior
    variation_name= _ "Fallen Silver Warrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-silverwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 elusivefoot 4 34 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-fanatic.png blade 8 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-fanatic.png arcane 7 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged missile _"missile" "blank-attack.png~BLIT(attacks/missile-kharos.png~CROP(5,5,49,49)~GS()~CS(-64,-255,-255),5,5)" fire 4 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {ZOMBIE_SWORD_ANIM}
    [attack_anim]
        [filter_attack]
            name=missile
        [/filter_attack]
        missile_start_time=-180
        [missile_frame]
            image="projectiles/whitemissile-n.png:180"
            image_diagonal="projectiles/whitemissile-ne.png"
            image_mod=~GS()~CS(-64,-255,-255)
            offset=0.0~0.8
        [/missile_frame]
        [missile_frame]
            duration=400
            halo="projectiles/whitemissile-impact-[1~8].png:50"
            halo_mod=~GS()~CS(-64,-255,-255)
            offset=0.8,0.92,0.94,0.96,0.98,1.0,1.02,1.04
        [/missile_frame]
        start_time=-400
        [frame]
            duration=50
        [/frame]
        [frame]
            duration=150
            halo=projectiles/zmage-preparation-halo[1~7].png~CS(-64,-255,-255)
            halo_x,halo_y=2,-2
        [/frame]
        [frame]
            duration=200
            halo=projectiles/zmage-preparation-halo[1~7].png~CS(-64,-255,-255)
            halo_x,halo_y=2,-2
        [/frame]
        [frame]
            duration=50
        [/frame]
        {SOUND:HIT_AND_MISS magic-missile-[1~3].ogg magic-missile-[1~3]-miss.ogg -100}
    [/attack_anim]
    {AMLA_DEFAULT}
    [resistance]
        blade=120
        arcane=120
    [/resistance]
[/variation]
[variation]
    variation_id=brownwarrior
    variation_name= _ "Fallen Brown Warrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-brownwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 38 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-human-short.png blade 6 3 ()}
    #using the hammer id to save time
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer {STR_MACE} mace-spiked.png impact 8 2 ()}
    {ZOMBIE_SWORD_ANIM}
    {ZOMBIE_HAMMER_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        blade=80
        pierce=80
        impact=90
    [/resistance]
[/variation]
[variation]
    variation_id=sunfollower
    variation_name= _ "Fallen Sun Follower"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-sunfollower}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 31 (
        {ABILITY_EOMA_NOCTURNAL_REGENERATION 5}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 6 3 (
        {WEAPON_SPECIAL_FIRSTSTRIKE}
    )}
    {AMLA_DEFAULT}
    {ZOMBIE_SPEAR_ANIM}
    [resistance]
        fire=70
        cold=70
        arcane=110
    [/resistance]
[/variation]
#define ZOMBIE_SLICER_STATS
    variation_name= _ "Fallen Slicer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-slicer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 elusivefoot 5 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-human-short.png blade 2 5 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {ZOMBIE_SWORD_ANIM}
    [resistance]
        blade=120
        pierce=110
    [/resistance]
    [defense]
        flat=50
        hills=40
        forest=40
        fungus=40
    [/defense]
#enddef
[variation]
    variation_id=fanatic
    {ZOMBIE_SLICER_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT fanatic2 fanatic _"Fallen Fanatic"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT fireslicer fireslicer _"Fallen Fire Swordsman"}
    experience=16
[/variation]
[variation]
    variation_id=fanatic2
    variation_name= _ "Fallen Fanatic"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-fanatic}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 elusivefoot 5 29 (
        {ABILITY_SKIRMISHER}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-fanatic.png blade 3 5 (
        {WEAPON_SPECIAL_BERSERK}
        {WEAPON_SPECIAL_DRAIN}
    )}
    {ZOMBIE_SWORD_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        blade=110
        pierce=110
        impact=110
        cold=90
        fire=90
    [/resistance]
    [defense]
        flat=50
        hills=40
        forest=40
        fungus=40
    [/defense]
[/variation]
[variation]
    variation_id=fireslicer
    variation_name= _ "Fallen Fire Swordsman"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-fireslicer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 elusivefoot 5 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword {STR_SWORD} sword-human-short.png blade 5 3 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee firesword {STR_SWORD} sword-flaming.png fire 4 3 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {ZOMBIE_SWORD_ANIM}
    [attack_anim]
        [filter_attack]
            name=firesword
        [/filter_attack]
        start_time=-200
        [frame]
            offset="0~0.6:200,0.6~0:200"
        [/frame]
        {SOUND:HIT_AND_MISS fire.wav torch-miss.ogg -100}
    [/attack_anim]
    {AMLA_DEFAULT}
    [resistance]
        blade=110
        pierce=110
        impact=110
        fire=90
        arcane=70
    [/resistance]
    [defense]
        flat=50
        hills=40
        forest=40
        fungus=40
    [/defense]
[/variation]
[variation]
    variation_id=banner
    variation_name= _ "Fallen War Banner"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-warbanner}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 38 (
        {ABILITY_EOMA_AWE_LEVEL1}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee banner _"banner" quarterstaff.png impact 7 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged darkbeam _"darkness beam" dark-missile.png arcane 6 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {AMLA_DEFAULT}
    {ZOMBIE_BANNER_ANIM}
    {ZOMBIE_DARKBEAM_ANIM}
    [resistance]
        arcane=120
        blade=95
        pierce=95
        impact=95
    [/resistance]
[/variation]
#define ZOMBIE_CAVALRYARCHER_STATS
    variation_name= _ "Fallen Cavalry Archer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-cavalryarcher}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 mounted 7 22 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee bowclose _"trample" trample-horse.png impact 4 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow {STR_BOW} bow-elven.png pierce 5 2 ()}
    [resistance]
        blade=90
        impact=80
        pierce=120
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=bowclose
        [/filter_attack]
        start_time=-450
        [frame]
            duration=500
            sound=horse-canter.wav
        [/frame]
        {SOUND:HIT_AND_MISS staff.wav {SOUND_LIST:MISS} -100}
    [/attack_anim]
    {ZOMBIE_BOW_ANIM}
#enddef
[variation]
    variation_id=cavalryarcher
    {ZOMBIE_CAVALRYARCHER_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT elementalarcher cavalryarcherII _"Fallen Elemental Archer"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT heavycavalryarcher heavycavalryarcher _"Fallen Heavy Cavalry Archer"}
    experience=18
[/variation]
[variation]
    variation_id=heavycavalryarcher
    variation_name= _ "Fallen Heavy Cavalry Archer"
# wmlindent: start ignoring
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-heavycavalryarcher}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 mounted 6 35 ({ABILITY_STEADFAST}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee bowclose _"trample" trample-horse.png impact 6 2 ()}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow {STR_BOW} bow-elven.png pierce 7 2 ()}
{AMLA_DEFAULT}
# wmlindent: stop ignoring
    [resistance]
        blade=90
        pierce=95
        impact=80
        fire=105
        cold=105
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=bowclose
        [/filter_attack]
        start_time=-450
        [frame]
            duration=500
            sound=horse-canter.wav
        [/frame]
        {SOUND:HIT_AND_MISS staff.wav {SOUND_LIST:MISS} -100}
    [/attack_anim]
    {ZOMBIE_BOW_ANIM}
[/variation]
[variation]
    variation_id=elementalarcher
    variation_name= _ "Fallen Elemental Archer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-cavalryarcherII}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 mounted 8 31 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee bowclose _"trample" trample-horse.png impact 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow2 _"fire arrow" bow-elven-fire.png fire 7 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow3 _"ice arrow" bow-elven-magic.png cold 3 2 (
        {WEAPON_SPECIAL_MAGICAL}
        {WEAPON_SPECIAL_SLOW}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged bow _"arrow" bow-elven.png pierce 5 3 (
        {WEAPON_SPECIAL_MARKSMAN}
    )}
    {AMLA_DEFAULT}
    [resistance]
        fire=85
        cold=85
        blade=90
        pierce=120
        impact=80
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=bowclose
        [/filter_attack]
        start_time=-450
        [frame]
            duration=500
            sound=horse-canter.wav
        [/frame]
        {SOUND:HIT_AND_MISS staff.wav {SOUND_LIST:MISS} -100}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=bow2
        [/filter_attack]
        missile_start_time=-150
        [if]
            hits=no
            [missile_frame]
                duration=150
                image="projectiles/missile-fire-n.png"
                image_diagonal="projectiles/missile-fire-ne.png"
            [/missile_frame]
        [/if]
        [else]
            hits=yes

            [missile_frame]
                duration=150
                image="projectiles/missile-fire-n.png"
                image_diagonal="projectiles/missile-fire-ne.png"
                offset=0~0.8
            [/missile_frame]

            {FIRE_BURST_SMALL}
        [/else]
        start_time=-400
        [frame]
            duration=450
        [/frame]
        {SOUND:HIT_AND_MISS fire.wav bow-miss.ogg -400}
    [/attack_anim]

    [attack_anim]
        [filter_attack]
            name=bow3
        [/filter_attack]
        missile_start_time=-150
        [if]
            hits=no
            [missile_frame]
                duration=150
                image="projectiles/missile-ice-n.png"
                image_diagonal="projectiles/missile-ice-ne.png"
            [/missile_frame]
        [/if]
        [else]
            hits=yes

            [missile_frame]
                duration=150
                image="projectiles/missile-ice-n.png"
                image_diagonal="projectiles/missile-ice-ne.png"
                offset=0~0.8
            [/missile_frame]

            missile_start_time=0
            [missile_frame]
                duration=600
                image="projectiles/fire-burst-small-[1~8].png"
                image_diagonal="projectiles/fire-burst-small-[1~8].png"
                image_mod=~GS()~G(128)~B(255)
                offset=0.8~1.0
                sound=magic-faeriefire.ogg
            [/missile_frame]
        [/else]
        start_time=-400
        [frame]
            duration=450
        [/frame]
        {SOUND:HIT_AND_MISS bow.ogg bow-miss.ogg -400}
    [/attack_anim]
    {ZOMBIE_BOW_ANIM}
[/variation]
#-----------------------------------------Tharis
[variation]
    variation_id=hydra
    variation_name= _ "Fallen Hydra"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-hydra}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 naga 3 26 (
        {ABILITY_EOMA_REGENERATE 4}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hydrabite _"bite" head-hydra.png pierce 2 6 (
        {WEAPON_SPECIAL_SWARM}
        {WEAPON_SPECIAL_EOMA_TRIPLESTRIKE}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"headbutt" head-hydra.png impact 6 2 ()}
    {ZOMBIE_HYDRABITE_ANIM}
    {ZOMBIE_HAMMER_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT greathydra greathydra _"Fallen Deephydra"}
    experience=20
    [resistance]
        blade=110
        pierce=90
        impact=90
        fire=110
        cold=90
    [/resistance]
[/variation]
[variation]
    variation_id=greathydra
    variation_name= _ "Fallen Deephydra"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-greathydra}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 naga 3 40 (
        {ABILITY_EOMA_REGENERATE 4}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hydrabite _"bite" head-hydra.png pierce 3 7 (
        {WEAPON_SPECIAL_SWARM}
        {WEAPON_SPECIAL_EOMA_TRIPLESTRIKE}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee hammer _"headbutt" head-hydra.png impact 7 3 ()}
    {ZOMBIE_HYDRABITE_ANIM}
    {ZOMBIE_HAMMER_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        blade=110
        pierce=90
        impact=90
        fire=110
        cold=90
    [/resistance]
[/variation]
[variation]
    variation_id=disciple
    variation_name= _ "Fallen Disciple"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-disciple}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_tharisfoot) 4 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} touch-zombie.png impact 3 1 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged (shadow wave) _"shadow wave" dark-missile.png cold 6 2 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    [resistance]
        blade=100
        pierce=94
        impact=85
        cold=70
    [/resistance]
    {EOMA_WALKING_CORPSE_ADVANCEMENT darkwizard darkwizard _"Fallen Dark Wizard"}
    experience=18
    {ZOMBIE_FIST_ANIM}
    [attack_anim]
        [filter_attack]
            name=shadow wave
        [/filter_attack]
        {DARK_MISSILE_ANIM}
        start_time=-500
        hits=hit,miss
        [frame]
        [/frame]
        {SOUND:HIT_AND_MISS magic-dark.ogg magic-dark-miss.ogg -200}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=shadow wave
        [/filter_attack]
        hits=kill
        {DARK_MISSILE_ANIM}
        [missile_frame]
            image="projectiles/fireball-impact-[1~9,10~16].png~CS(186,102,206)~SCALE(72,72):40"
            offset=1.0
            auto_vflip=no
        [/missile_frame]
        start_time=-900
        [frame]
            duration=500
        [/frame]
        [frame]
            sound=magic-dark-big.ogg
        [/frame]
    [/attack_anim]
[/variation]
[variation]
    variation_id=darkwizard
    variation_name= _ "Fallen Dark Wizard"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-darkwizard}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_tharisfoot) 4 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee fist {STR_FIST} staff-darkwizard.png impact 3 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged (dark spark) _"shadow wave" dark-spark.png cold 7 3 (
        {WEAPON_SPECIAL_MAGICAL}
    )}
    [resistance]
        blade=100
        pierce=94
        impact=85
        cold=70
    [/resistance]
    {AMLA_DEFAULT}
    {ZOMBIE_FIST_ANIM}
    [attack_anim]
        [filter_attack]
            name=dark spark
        [/filter_attack]
        hits=hit,miss,!,kill
        [if]
            hits=yes
            {DARK_MISSILE_ANIM}
            [missile_frame]
                image="projectiles/fireball-impact-[1~9,10~16].png~CS(186,102,206)~SCALE(72,108):40"
                offset=1.0
                auto_vflip=no
            [/missile_frame]
        [/if]
        [else]
            hits=no
            {DARK_MISSILE_MISS_ANIM}
        [/else]
        start_time=-400
        [frame]
            duration=450
        [/frame]
        {SOUND:HIT_AND_MISS magic-dark-big.ogg magic-dark.ogg -200}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=dark spark
        [/filter_attack]
        hits=kill
        {DARK_MISSILE_ANIM}
        [missile_frame]
            image="projectiles/fireball-impact-[1~9,10~16].png~CS(186,102,206):60"
            offset=1.0
            sound=explosion.ogg
            auto_vflip=no
        [/missile_frame]
        start_time=-600
        [frame]
            duration=400
        [/frame]
        [frame]
            duration=250
            sound=magic-dark-big.ogg
        [/frame]
    [/attack_anim]
[/variation]
[variation]
    variation_id=witch
    variation_name= _ "Fallen Witch"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-witch}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 smallfoot 4 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 4 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged witchfire _"witch-fire" witch-fire.png fire 2 4 (
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    {ZOMBIE_SPEAR_ANIM}
    {EOMA_WALKING_CORPSE_ADVANCEMENT greatwitch greatwitch _"Fallen Great Witch"}

    experience=17
    [resistance]
        blade=90
        pierce=80
        impact=80
        fire=100
        cold=80
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=witchfire
        [/filter_attack]
        missile_start_time=-200
        missile2_start_time=-150
        [missile_frame]
            image="projectiles/zbmage-halo3.png:240"
            image_diagonal="projectiles/zbmage-halo3.png:240"
            offset=0.0~1.0:200
        [/missile_frame]
        [if]
            hits=yes
            [missile_frame]
                duration=400
                image="projectiles/fire-burst-small-[1~8].png"
                image_diagonal="projectiles/fire-burst-small-[1~8].png"
                image_mod=~GS()~CS(0,-255,0)
                offset=0.8~1.0
                sound=fire.wav
            [/missile_frame]
            [missile2_frame]
                halo="halo/elven/druid-healing[1~8].png~CS(-50,-100,-50)~O(40%):50"
                auto_vflip=false
                offset=0.0
            [/missile2_frame]
        [/if]
        start_time=-400
        [frame]
            duration=500
        [/frame]
        {SOUND:HIT_AND_MISS magic-dark.ogg magic-dark.ogg -200}
    [/attack_anim]
[/variation]
[variation]
    variation_id=greatwitch
    variation_name= _ "Fallen Great Witch"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-greatwitch}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 smallfoot 4 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear {STR_SPEAR} spear.png pierce 7 2 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged witchfire _"witch-fire" witch-fire.png fire 3 5 (
        {WEAPON_SPECIAL_EOMA_SKILLED}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged curse {STR_CURSE} curse.png cold 7 1 (
        {WEAPON_SPECIAL_EOMA_SKILLED}
        {WEAPON_SPECIAL_SLOW}
    )}
    {ZOMBIE_SPEAR_ANIM}
    {AMLA_DEFAULT}
    [resistance]
        blade=90
        pierce=80
        impact=80
        fire=100
        cold=80
    [/resistance]
    [attack_anim]
        [filter_attack]
            name=witchfire
        [/filter_attack]
        missile_start_time=-200
        missile2_start_time=-150
        [missile_frame]
            image="projectiles/zbmage-halo3.png:240"
            image_diagonal="projectiles/zbmage-halo3.png:240"
            offset=0.0~1.0:200
        [/missile_frame]
        [if]
            hits=yes
            [missile_frame]
                duration=400
                image="projectiles/fire-burst-small-[1~8].png"
                image_diagonal="projectiles/fire-burst-small-[1~8].png"
                image_mod=~GS()~CS(0,-255,0)
                offset=0.8~1.0
                sound=fire.wav
            [/missile_frame]
            [missile2_frame]
                halo="halo/elven/druid-healing[1~8].png~CS(-50,-100,-50)~O(40%):50"
                auto_vflip=false
                offset=0.0
            [/missile2_frame]
        [/if]
        start_time=-400
        [frame]
            duration=500
        [/frame]
        {SOUND:HIT_AND_MISS magic-dark.ogg magic-dark.ogg -200}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=curse
        [/filter_attack]
        [missile_frame]
            halo="projectiles/fireball-impact-[16~1].png:60"
            halo_mod=~R(255)
            offset=1.0
            sound=explosion.ogg
            auto_vflip=no
        [/missile_frame]
        [frame]
            duration=1000
        [/frame]
    [/attack_anim]
[/variation]
[variation]
    variation_id=bladedancer
    variation_name= _ "Fallen Blade Dancer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-bladedancer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_thariselusive) 5 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee chakram _"chakram" chakram.png blade 3 3 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged chakram-throw _"chakram" chakram.png blade 4 2 ()}
    {EOMA_WALKING_CORPSE_ADVANCEMENT sworddancer sworddancer _"Fallen Sword Dancer"}
    experience=19
    [attack_anim]
        [filter_attack]
            name=chakram
        [/filter_attack]
        start_time=-250
        [frame]
            offset="0~0.6:100,0.6~0:100"
        [/frame]
        {SOUND:HIT_AND_MISS dagger-swish.wav {SOUND_LIST:MISS} -100}
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=chakram-throw
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            image="projectiles/chakram.png:200"
            image_diagonal="projectiles/chakram.png"
            offset=0.0~0.9
        [/missile_frame]
        start_time=-250
        [frame]
            duration=500
        [/frame]
        {SOUND:HIT_AND_MISS axe.ogg {SOUND_LIST:MISS} -50}
    [/attack_anim]
[/variation]
[variation]
    variation_id=sworddancer
    variation_name= _ "Fallen Sword Dancer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-sworddancer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_thariselusive) 5 30 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee sword _"sword" sword-elven.png blade 4 4 (
        {WEAPON_SPECIAL_BERSERK}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged chakram-throw _"chakram" chakram.png blade 6 2 ()}
    {AMLA_DEFAULT}
    {ZOMBIE_SWORD_ANIM}
    [attack_anim]
        [filter_attack]
            name=chakram-throw
        [/filter_attack]
        missile_start_time=-200
        [missile_frame]
            image="projectiles/chakram.png:200"
            image_diagonal="projectiles/chakram.png"
            offset=0.0~0.9
        [/missile_frame]
        start_time=-250
        [frame]
            duration=500
        [/frame]
        {SOUND:HIT_AND_MISS axe.ogg {SOUND_LIST:MISS} -50}
    [/attack_anim]
[/variation]
#define ZOMBIE_DARKHUNTER_STATS
    variation_name= _ "Fallen Hunter"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-hunter}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_thariselusive) 5 19 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"knives" claws.png blade 4 2 (
        {WEAPON_SPECIAL_BACKSTAB}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged throwing-knife _"throwing knives" dagger-thrown-poison-human.png pierce 4 2 (
        {WEAPON_SPECIAL_POISON}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {ZOMBIE_THROWINGKNIFE_ANIM}
#enddef
[variation]
    variation_id=hunter
    {ZOMBIE_DARKHUNTER_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT greathunter greathunter _"Fallen Great Hunter"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT darkassassin killer _"Fallen Dark Assassin"}
    experience=16
[/variation]
[variation]
    variation_id=darkassassin
    variation_name= _ "Fallen Dark Assassin"
# wmlindent: start ignoring
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-killer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_thariselusive) 6 27 ({ABILITY_NIGHTSTALK}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"knives" claws.png blade 4 2 (
    {WEAPON_SPECIAL_BACKSTAB}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"knives" claws.png blade 6 2 ()}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged throwing-knife _"throwing knives" dagger-thrown-poison-human.png pierce 4 3 (
    {WEAPON_SPECIAL_POISON}
    {WEAPON_SPECIAL_MARKSMAN}
)}
{ZOMBIE_DAGGER_ANIM}
{ZOMBIE_THROWINGKNIFE_ANIM}
{AMLA_DEFAULT}
# wmlindent: stop ignoring
[/variation]
[variation]
    variation_id=greathunter
    variation_name= _ "Fallen Greathunter"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-greathunter}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_thariselusive) 5 31 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"knives" claws.png blade 4 3 (
        {WEAPON_SPECIAL_BACKSTAB}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged throwing-knife _"throwing knives" dagger-thrown-poison-human.png pierce 6 2 (
        {WEAPON_SPECIAL_POISON}
    )}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged net {STR_NET} net.png impact 3 2 (
        {WEAPON_SPECIAL_POISON}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {ZOMBIE_THROWINGKNIFE_ANIM}
    [attack_anim]
        [filter_attack]
            name=net
        [/filter_attack]
        missile_start_time=-150
        [missile_frame]
            image="projectiles/web.png:150"
            image_diagonal="projectiles/web.png"
        [/missile_frame]
        start_time=-150
        [frame]
            duration=100
        [/frame]
        [frame]
            duration=150
            sound=net.wav
        [/frame]
    [/attack_anim]
    {AMLA_DEFAULT}
[/variation]
#define ZOMBIE_DARKWARRIOR_STATS
    variation_name= _ "Fallen Dark Warrior"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-darkwarrior}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_tharisfoot) 4 20 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"daggers" dagger-tharis.png blade 3 3 (
        {WEAPON_SPECIAL_EOMA_NOCOUNTERATTACK}
    )}
    {ZOMBIE_DAGGER_ANIM}
#enddef
[variation]
    variation_id=darkwarrior
    {ZOMBIE_DARKWARRIOR_STATS}
    {EOMA_WALKING_CORPSE_ADVANCEMENT darkslayer slayer _"Fallen Dark Slayer"}
    {EOMA_WALKING_CORPSE_ADVANCEMENT darkcommander darkcommander _"Fallen Dark Commander"}
    experience=17
[/variation]
[variation]
    variation_id=darkslayer
    variation_name= _ "Fallen Dark Slayer"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-slayer}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_tharisfoot) 4 31 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee dagger _"daggers" dagger-tharis.png blade 4 4 (
        {WEAPON_SPECIAL_EOMA_NOCOUNTERATTACK}
    )}
    {ZOMBIE_DAGGER_ANIM}
    {AMLA_DEFAULT}
[/variation]
[variation]
    variation_id=darkcommander
    variation_name= _ "Fallen Dark Commander"
# wmlindent: start ignoring
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-darkcommander}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 1 (eoma_tharisfoot) 4 34 ({ABILITY_EOMA_AWE_LEVEL1}
)}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee spear _"spear" spear.png blade 5 3 ()}
{EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK ranged fireball _"fireball" fireball.png fire 5 2 (
    {WEAPON_SPECIAL_EOMA_SKILLED}
)}
{ZOMBIE_FIREBALL_ANIM}
{ZOMBIE_SPEAR_ANIM}
{AMLA_DEFAULT}
# wmlindent: stop ignoring
    [resistance]
        fire=90
    [/resistance]
[/variation]
[variation]
    variation_id=bladefury
    variation_name= _ "Fallen Bladefury"
    {EOMA_UNIT_BODY_WALKING_CORPSE_GRAPHICS zombie-bladefury}
    {EOMA_UNIT_BODY_WALKING_CORPSE_STATS 0 (eoma_thariselusive) 6 18 ()}
    {EOMA_UNIT_BODY_WALKING_CORPSE_ATTACK melee chain _"chain" chain.png blade 4 2 (
        {WEAPON_SPECIAL_EOMA_TRIPLESTRIKE}
    )}
    {AMLA_DEFAULT}
    [resistance]
        blade=110
        pierce=110
        impact=90
        fire=90
        cold=90
        arcane=90
    [/resistance]
    [defense]
        shallow_water=70
        reef=60
        swamp_water=70
        frozen=70
        sand=60
        flat=50
        village=50
        cave=50
        hills=40
        forest=40
        castle=40
        fungus=40
        mountains=30
    [/defense]
    [abilities]
        {ABILITY_EOMA_TENACITY}
    [/abilities]
    [attack_anim]
        [filter_attack]
            name=chain
        [/filter_attack]
        start_time=-500
        chain_start_time=-500
        [frame]
            duration=100
            image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.0~0.1
            sound={SOUND_LIST:MISS}
        [/frame]
        [frame]
            duration=100
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.1~0.2
        [/frame]
        [frame]
            duration=100
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.2~0.3
            sound={SOUND_LIST:MISS}
        [/frame]
        [frame]
            duration=100
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.3~0.4
        [/frame]
        [frame]
            duration=100
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.4~0.5
            sound={SOUND_LIST:MISS}
        [/frame]
        [frame]
            duration=250
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.5
        [/frame]
        [frame]
            duration=150
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.5~0.0
        [/frame]
        [frame]
            duration=1
            image=image="units/destroyers-zombies/zombie-bladefury.png"
            offset=0.0
        [/frame]
        [chain_frame]
            duration=500
            halo="halo/bladefury-chain-[1~4,1~4,1~4].png"
            offset=0.0~0.5
        [/chain_frame]
        {SOUND:HIT_AND_MISS sword-1.ogg {SOUND_LIST:MISS} -100}
    [/attack_anim]
[/variation]

[event]
    name=attacker hits
    id=eoma_kamikazezombie_event
    first_time_only=no
    [filter]
        race=undead
    [/filter]
    [filter_attack]
        name=kamikaze
    [/filter_attack]
    [kill]
        x,y=$x1,$y1
        animate=no
    [/kill]
[/event]

#for zombie goblin warrior:
[event]
    name=attack_end
    id=eoma_hitandrun_event1
    first_time_only=no
    [filter]
        x,y=$x1,$y1
        ability=eoma_hitandrun1
    [/filter]
    {VARIABLE_OP unit.moves add 1}
    [unstore_unit]
        variable=unit
        {COLOR_HEAL}
        text="+"+1+_"movepoints"
        find_vacant=no
    [/unstore_unit]
[/event]
[event]
    name=attack_end
    id=eoma_hitandrun_event2
    first_time_only=no
    [filter]
        x,y=$x1,$y1
        ability=eoma_hitandrun2
    [/filter]
    {VARIABLE_OP unit.moves add 2}
    [unstore_unit]
        variable=unit
        {COLOR_HEAL}
        text="+"+2+_"movepoints"
        find_vacant=no
    [/unstore_unit]
[/event]
[event]
    name=die
    id=eoma_fury_event
    first_time_only=no
    [filter_second]
        side=$side_number
        ability=eoma_fury
    [/filter_second]

    {VARIABLE_OP second_unit.attacks_left add 1}
    [unstore_unit]
        variable=second_unit
        {COLOR_HARM}
        text= _ "FURY!"
        find_vacant=no
    [/unstore_unit]
[/event]
#define EOMA_ZOMBIEADVANCE START_VARIATION END_VARIATION
    [event]
        name=advance
        id=zombie{START_VARIATION}_advance_event
        first_time_only=no
        [filter]
            type=EoMa_Walking_Corpse
            [filter_wml]
                variation={START_VARIATION}
            [/filter_wml]
        [/filter]
        [object]
            silent=yes
            duration=forever
            [filter]
                x,y=$x1,$y1
            [/filter]
            [effect]
                apply_to=type
                name=EoMa_Walking_Corpse
            [/effect]
            [effect]
                apply_to=variation
                name={END_VARIATION}
            [/effect]
            [effect]
                apply_to=experience
                increase=-$unit.max_experience|
            [/effect]
        [/object]
        [heal_unit]
            [filter]
                x,y=$x1,$y1
            [/filter]
            amount=full
            animate=no
            restore_statuses=yes
        [/heal_unit]
    [/event]
#enddef

#define EOMA_ZOMBIEADVANCE2 START_VARIATION END_VARIATION
    [event]
        name=advance
        id=zombie{START_VARIATION}_advance_event
        first_time_only=no
        [filter]
            type=EoMa_Walking_Corpse
            [filter_wml]
                variation={START_VARIATION}
            [/filter_wml]
        [/filter]
        [object]
            silent=yes
            duration=forever
            [filter]
                x,y=$x1,$y1
            [/filter]
            [effect]
                apply_to=type
                name=EoMa_Walking_Corpse
            [/effect]
            [effect]
                apply_to=variation
                name={END_VARIATION}
            [/effect]
            [effect]
                apply_to=experience
                increase=-$unit.max_experience|
            [/effect]
        [/object]
        {ADVANCE_UNIT (id=$unit.id) ()}
    [/event]
#enddef

# wmlindent: start ignoring
[/unit_type]
# wmlindent: stop ignoring
#(temporary workaround) this one is to force register zombie variation events + force support AMLAs with event based abilities
[unit_type]
    id=eoma_wesnoth_bug_3827
    name="bug 3827 workaround"
    image="misc/blank-hex.png"
    race=mechanical
    [abilities]
        {ABILITY_EOMA_FURY}
        {ABILITY_EOMA_KAMIKAZE}
        {ABILITY_EOMA_HITANDRUN 1}
        {ABILITY_EOMA_HITANDRUN 2}
        {ABILITY_EOMA_HITANDRUN 3}
        #these abilities are no longer used
        #        {ABILITY_EOMA_PAINABSORB_STRICT 1}
        #        {ABILITY_EOMA_PAINABSORB_STRICT 2}
        {ABILITY_EOMA_BLOODLUST 5}
        #Atokpi Charger's on kill abilities, loaded here to ensure they get loaded earlier than supercharge to avoid a "supercharge prevents kill and run and bloodlust from triggering bug" (not relevant on 1.17+ due to the event having negative priority there, but this is needed for 1.16):
        #upd: kill and run 2 is now also used in Red Steam Ulfserker AMLA
        #upd: bloodlust 8 is now also used in Blood Warrior AMLA
        {ABILITY_EOMA_KILLANDRUN 2}
        {ABILITY_EOMA_BLOODLUST 8}
        {ABILITY_EOMA_FORAGE}
        {ABILITY_EOMA_SCAVENGER 3}
        {ABILITY_EOMA_PAIN_CHAINING2}
    [/abilities]
    [attack]
        name=dummy
        description=_"dummy"
        image="misc/blank-hex.png"
        range=melee
        type=impact
        [specials]
            {WEAPON_SPECIAL_EOMA_SWALLOW 3}
            {WEAPON_SPECIAL_EOMA_GROWINGFURY 0 3}
            {WEAPON_SPECIAL_EOMA_GROWINGFURY 1 2}
            {WEAPON_SPECIAL_EOMA_SCULPT}
            {WEAPON_SPECIAL_EOMA_ALLAROUND 70}
            {WEAPON_SPECIAL_EOMA_TRIPLESTRIKE}
        [/specials]
    [/attack]
[/unit_type]
