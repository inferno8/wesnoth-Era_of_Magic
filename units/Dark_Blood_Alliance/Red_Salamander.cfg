#textdomain wesnoth-Era_of_Magic
[unit_type]
    id=EoMa_Red_Salamander
    name= _ "Red Salamander"
    race=eoma_salamander
    image="units/darkblood-salamanders/redsalamander.png"

    hitpoints=48
    movement_type=I8 salamander
    movement=5
    experience=90
    level=2
    alignment=neutral
    advances_to=EoMa_Lava_Salamander
    cost=34
    usage=mixed fighter
    description=_"Red Salamanders are a cult of salamanders living in the Great Bog, similar to the corrupted shamans of the saurians. They are bound together by their singular passion - harnessing the raw power of flame. The constant rituals have made their skin red, as well as quite fire-resistant. However, unlike the other salamanders, due to their red skin they can no longer blend in with their surroundings. Still, the might of their fiery attacks makes up for that disadvantage."
    die_sound=hiss-die.wav
    num_traits=2
    ignore_race_traits=yes
    {TRAIT_FEARLESS_MUSTHAVE}
    {TRAIT_STRONG}
    {TRAIT_QUICK}
    {TRAIT_INTELLIGENT}
    undead_variation=salamander
    [standing_anim]
        [frame]
            image="units/darkblood-salamanders/redsalamander/00[01~32].png:42"
        [/frame]
    [/standing_anim]
    [abilities]
        {ABILITY_EOMA_REGENERATE 5}
    [/abilities]
    [defend]
        start_time=-126
        [frame]
            image="units/darkblood-salamanders/redsalamander.png:250"
        [/frame]
        [if]
            hit_sound_start_time=-25
            hits=hit
            [hit_sound_frame]
                sound=hiss-hit.wav
            [/hit_sound_frame]
        [/if]
    [/defend]
    [resistance]
        arcane=90
        pierce=80
        fire=60
        cold=110
    [/resistance]
    [movement_costs]
        sand=1#fire mages often get 1mp sand in eoma
        cave=1#red/lava salamanders are good in caves
    [/movement_costs]
    [defense]
        cave=50
        fungus=40
        #most salamanders got nerfed to 30% defense anyway, this is not needed anymore
        #        #red/lava salamanders are worse on frozen than other salamanders
        #        frozen=70
    [/defense]
    [attack]
        name=touch
        description=_"fire touch"
        range=melee
        type=fire
        damage=6
        number=3
        icon=attacks/fist-magic-fire.png
    [/attack]
    [attack]
        name=bite
        description=_"fire bite"
        range=melee
        type=fire
        damage=7
        number=2
        icon=attacks/fire-breath-drake.png
        [specials]
            {WEAPON_SPECIAL_BACKSTAB}
        [/specials]
    [/attack]
    [attack]
        name=fireball
        description={STR_FIREBALL}
        range=ranged
        type=fire
        damage=8
        number=3
        icon=attacks/fireball.png
        [specials]
            {WEAPON_SPECIAL_MAGICAL}
        [/specials]
    [/attack]
    [attack_anim]
        [filter_attack]
            name=touch
        [/filter_attack]
        start_time=-200
        fx_start_time=0
        [if]
            hits=yes
            [fx_frame]
                image=misc/blank-hex.png:1
                offset=0.9
                layer=80
            [/fx_frame]
            [fx_frame]
                image=projectiles/fire-burst-small-[1~8].png:42
                offset=0.9
                layer=80
                sound=fire.wav
            [/fx_frame]
        [/if]
        [else]
            hits=miss
        [/else]
        [frame]
            image="units/darkblood-salamanders/redsalamander-attack-a[1,2,3].png:[200,100,250]"
            sound=spear.ogg
        [/frame]
        [frame]
            image="units/darkblood-salamanders/redsalamander.png:1"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=bite
        [/filter_attack]
        start_time=-200
        fx_start_time=0
        [if]
            hits=yes
            [fx_frame]
                image=misc/blank-hex.png:1
                offset=0.9
                layer=80
            [/fx_frame]
            [fx_frame]
                image=projectiles/fire-burst-small-[1~8].png:42
                offset=0.9
                layer=80
                sound=fire.wav
            [/fx_frame]
        [/if]
        [else]
            hits=miss
        [/else]
        [frame]
            #using baseframe for Red Salamander for now
            #            image="units/darkblood-salamanders/lavasalamander-attack-b[1,2].png:[200,250]"
            duration=450
            sound=spear.ogg
        [/frame]
        [frame]
            image="units/darkblood-salamanders/redsalamander.png:1"
        [/frame]
    [/attack_anim]
    [attack_anim]
        [filter_attack]
            name=fireball
        [/filter_attack]
        start_time=-180
        {MISSILE_FRAME_FIREBALL_XY 0 0}
        [frame]
            image="units/darkblood-salamanders/redsalamander-attack-[a2,b2].png:[120,160]"
            sound=fire.wav
        [/frame]
        [frame]
            image="units/darkblood-salamanders/redsalamander.png:1"
        [/frame]
    [/attack_anim]
[/unit_type]
